<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Week-4</title>
  </head>
  <body>
    <div>
      <input id="title" type="text" placeholder="title" /><br /><br />
      <input
        id="description"
        type="text"
        placeholder="description"
      /><br /><br />
      <!-- <button onclick="addTodo()">Add todo</button> -->
      <div id="todos"></div>
    </div>

    <script>
      function createChild(title, description, id){
        const child = document.createElement("div");
        const firstGrandChild = document.createElement("div");
        firstGrandChild.innerHTML = title;
        const secondGrandChild = document.createElement("div");
        secondGrandChild.innerHTML = description;
        const thirdGrandChild = document.createElement("button");
        thirdGrandChild.innerHTML = "Mark as Done!";
        thirdGrandChild.setAttribute("onclick", `markAsDone(${id})`);
        child.appendChild(firstGrandChild);
        child.appendChild(secondGrandChild);
        child.appendChild(thirdGrandChild);
        child.setAttribute("id", id);
        return child;
      }

      //state - making it dynamic
      function updateAcc2State(state){
        const parent = document.getElementById("todos");
        parent.innerHTML = "";

        for(let i = 0; i < state.length; i++){
          const child = createChild(state[i].title, state[i].description, state[i].id);
          parent.append(child);
        }
      }

      updateAcc2State([{
        title : "go to gym",
        description : "go to gym from 7-8:30 pm",
        id : 1
      },{
        title : "coding",
        description : "cohort 2 learning from 7 am - 11 pm",
        id : 2
      }])

      // let globalId = 1;

      // function markAsDone(todoId){
      //   const parent = document.getElementById(todoId);
      //   parent.children[2].innerHTML = "Done!";
      // }

      // function addTodo() {
      //   const title = document.getElementById("title").value;
      //   const description = document.getElementById("description").value;
      //   const parent = document.getElementById("todos");

      //   parent.appendChild(createChild(title,description,globalId++));

        // const originalHtml = document.getElementById("container").innerHTML;
        // document.getElementById("container").innerHTML =
        //   originalHtml +
        //   `<div>
        //     <div>${title}</div>
        //     <div>${description}</div>
        //     <button>Mark as done</button>
        //    </div>`;
      // }
    </script>
  </body>
</html>
